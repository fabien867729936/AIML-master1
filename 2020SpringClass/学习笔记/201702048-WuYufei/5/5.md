## Step5 - NonLinearClassification知识总结
搭建一个三层神经网络，来解决MNIST手写数字识别问题，并学习使用梯度检查来帮助我们测试反向传播代码的正确性。数据集的使用，是深度学习的一个基本技能，开发集、验证集、测试集，合理地使用才能得到理想的泛化能力强的模型。
### 双层神经网络分类
- 从复杂程度上分，有线性/非线性之分
- 从样本类别上分，有二分类/多分类之分

|XOR问题|弧形问题|
|---|---|
|<img src="../Images/10/xor_data_nonlinear.png"/>|<img src="../Images/10/sin_data_nonlinear.png"/>|
### 逻辑异或门的工作原理
显示原始数据
1. 首先是从Level_XorGateClassifier中导入所有内容，省去了我们重新写数据准备部分的代码的麻烦
2. 获得所有分类为1的训练样本，用红色叉子显示在画板上
3. 获得所有分类为0的训练样本，用蓝色圆点显示在画板上
显示推理的中间结果
1. 先用测试样本做一次推理
2. Z1是第一层神经网络线性变换的结果，由于Z1是一个4行两列的数组，我们以Z1的第1列作为x1，以Z1的第2列作为x2，画出4个点来
3. A1是Z1经过激活函数后的结果，同Z1一样作为4个点画出来
4. Z2是第二层神经网络线性变换的结果，A2是Z2的Logistic Function的运算结果，以Z2为x1，A2为x2，画出4个点来，并叠加Logistic函数图像，看是否吻合
显示最后结果
### 多分类模型的评估标准
假设每类有100个样本，一共300个样本，最后的分类结果是：

|样本所属类别|分到类1|分到类2|分到类3|各类样本总数|精(准)确率|
|---|---|---|---|---|---|
|类1|90|4|6|100|90%|
|类2|9|84|5|100|84%|
|类3|1|4|95|100|95%|
|总数|101|93|106|300|89.67%|

- 第1类样本，被错分到2类4个，错分到3类6个，正确90个
- 第2类样本，被错分到1类9个，错分到3类5个，正确84个
- 第3类样本，被错分到1类1个，错分到2类4个，正确95个
 
总体的准确率是89.67%。三类的精确率是90%、84%、95%。
### 手工测试训练过程
数据处理过程

1. 应用程序会先把绘图区域保存为一个文件
2. 然后再把此文件读入内存，转换成灰度图
3. 缩放尺寸到28x28（和训练数据一致）
4. 用255减去所有像素值，得到黑底色白前景色的数据（和训练数据一致）
5. 归一化到[0,1]（和训练数据一致）
6. 变成1X784的数组，调用前向计算方法
7. 得到Output后，做一个argmax，取到最终结果